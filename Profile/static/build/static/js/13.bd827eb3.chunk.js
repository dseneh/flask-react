(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[13],{344:function(e,t,a){"use strict";a.r(t);var n=a(136),c=a(15),r=a.n(c),o=a(38),i=a(5),s=a(0),l=a.n(s),d=a(277),j=a(85),u=a(250),b=a(230),h=a(232),p=a(340),O=a(44),m=a.n(O),x=a(61),f=a(10),g=a(231),v=a(244),k=a(245),w=a.n(k),C=a(60),y=a(2),N=function(e){var t=Object(s.useState)(!1),a=Object(i.a)(t,2),n=a[0],c=a[1],d=Object(s.useState)({title:"",location:"",company:"",start:"",end:"",desc:"",current:!1,active:!1}),j=Object(i.a)(d,2),u=j[0],b=j[1],p=Object(s.useState)({title:!1,location:!1,company:!1,start:!1,end:!1}),O=Object(i.a)(p,2),k=O[0],N=O[1];l.a.useEffect((function(){b(e.data)}),[]);var S=function(e,t){var a=t.name,n=t.value;N(Object(f.a)(Object(f.a)({},k),{},Object(x.a)({},a,!1))),b(Object(f.a)(Object(f.a)({},u),{},Object(x.a)({},a,n)))},z=function(e,t){var a=t.name,n=t.checked;b(Object(f.a)(Object(f.a)({},u),{},Object(x.a)({},a,n)))},I=function(){u.current?u.end="":u.end="Present"},A=function(){var t=Object(o.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.title&&u.location&&u.company&&u.start&&u.end){t.next=4;break}N({title:!0,location:!0,company:!0,start:!0,end:!0}),t.next=18;break;case 4:if(e.data&&e.data._id&&"undefined"!==e.data._id){t.next=14;break}if(c(!0),!(a=localStorage.getItem("TKID"))){t.next=12;break}return c(!0),n={headers:{Authorization:"Bearer ".concat(a)}},t.next=12,m.a.post("".concat("","/api/work"),u,n).then((function(t){c(!1),e.handleAddWork(t.data.work),e.hide()})).catch((function(e){e.response?console.log(e.response.data):console.log(e),N(Object(f.a)(Object(f.a)({},k),{},{title:!0,location:!0,company:!0,start:!0,end:!0})),c(!1)}));case 12:t.next=18;break;case 14:return t.next=16,D(e.data._id);case 16:e.handleUpdateWork(u),e.hide();case 18:e.handleReset();case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==u.title&&u.location&&u.company&&u.start&&u.end){t.next=4;break}N({title:!0,location:!0,company:!0,start:!0,end:!0}),t.next=11;break;case 4:if(c(!0),!(n=localStorage.getItem("TKID"))){t.next=11;break}return c(!0),o={headers:{Authorization:"Bearer ".concat(n)}},t.next=11,m.a.put("".concat("","/api/work/").concat(a),u,o).then((function(t){c(!1),e.handleAddWork(t.data.work),e.hide()})).catch((function(e){e.response?console.log(e.response.data):console.log(e),N(Object(f.a)(Object(f.a)({},k),{},{title:!0,location:!0,company:!0,start:!0,end:!0})),c(!1)}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"container p-4 pt-5",children:Object(y.jsx)(C.Fade,{children:Object(y.jsxs)(g.a,{className:" mb-3",loading:n,onSubmit:A,children:[Object(y.jsx)(g.a.Input,{name:"title",error:k.title,placeholder:"Job Title",onChange:S,label:"Job Title",value:u.title}),Object(y.jsxs)(g.a.Group,{widths:"equal",children:[Object(y.jsx)(g.a.Input,{name:"company",label:"Company",error:k.company,placeholder:"Company",onChange:S,value:u.company}),Object(y.jsx)(g.a.Input,{name:"location",label:"Location",error:k.location,placeholder:"City, State",onChange:S,value:u.location})]}),Object(y.jsxs)(g.a.Group,{children:[Object(y.jsx)(g.a.Input,{label:"Start Date",name:"start",error:k.start,placeholder:"Month/Year",onChange:S,value:u.start}),Object(y.jsx)(g.a.Input,{label:"End Date",name:"end",error:k.end,value:u.end,disabled:u.current,placeholder:"Month/Year",onChange:S})]}),Object(y.jsx)(g.a.Checkbox,{name:"current",toggle:!0,label:"Up to current",onChange:z,defaultChecked:e.data.current,onClick:I}),Object(y.jsx)(g.a.Input,{name:"current",type:"number",min:1,max:5,size:"mini",onChange:z,defaultChecked:e.data.current,onClick:I}),Object(y.jsx)(v.CKEditor,{editor:w.a,onChange:function(e,t){var a=t.getData();b(Object(f.a)(Object(f.a)({},u),{},{desc:a}))},data:e.data.desc,config:{toolbar:["bold","italic","numberedList","bulletedList"]}}),Object(y.jsxs)("div",{className:"row mt-4 ",children:[Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(g.a.Checkbox,{toggle:!0,name:"active",label:"Show on profile",onChange:z,defaultChecked:e.data.active})}),Object(y.jsx)("div",{className:"col text-right",children:Object(y.jsx)(h.a,{className:"",color:"blue",size:"large",children:"Save"})})]})]})})})};t.default=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(s.useState)([]),O=Object(i.a)(l,2),x=O[0],f=O[1],g=Object(s.useState)(!1),v=Object(i.a)(g,2),k=v[0],w=v[1],C=Object(s.useState)(!1),S=Object(i.a)(C,2),z=S[0],I=S[1],A=Object(s.useState)({}),D=Object(i.a)(A,2),T=D[0],_=D[1];Object(s.useEffect)((function(){(function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("TKID"))){e.next=6;break}return w(!0),a={headers:{Authorization:"Bearer ".concat(t)}},e.next=6,m.a.get("".concat("","/api/work"),a).then((function(e){f(e.data.work),w(!1)})).catch((function(e){w(!1),I(!0),e.response?console.log(e.response.data):console.log(e)}));case 6:w(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var K=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("TKID"),w(!0),n={headers:{Authorization:"Bearer ".concat(a)}},e.next=5,m.a.delete("".concat("","/api/work/").concat(t),n).then((function(){var e=x.filter((function(e){return e._id!==t}));f(e),w(!1)})).catch((function(e){w(!1),I(!0),e.response?console.log(e.response.data):console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return z?Object(y.jsxs)("div",{style:{fontSize:"1.6rem"},children:[Object(y.jsx)(j.a,{name:"warning sign",size:"large",color:"red"}),Object(y.jsx)("p",{children:"Oops! There was an error loading data."})]}):Object(y.jsx)(y.Fragment,{children:k?Object(y.jsx)(u.a,{style:{minHeight:300},children:Object(y.jsx)(b.a,{size:"large",active:k,children:"Loading"})}):Object(y.jsxs)(d.a,{bordered:!0,hover:!0,responsive:!0,className:"bg-white",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)("th",{colSpan:"5",children:a?Object(y.jsx)(h.a,{floated:"right",color:"red",size:"small",content:"Cancel",onClick:function(){c(!1),_({})}}):Object(y.jsx)(h.a,{floated:"right",icon:"plus",labelPosition:"left",primary:!0,size:"small",content:"New",onClick:function(){c(!0)}})})})}),Object(y.jsx)("tbody",{children:a?Object(y.jsx)(N,{handleAddWork:function(e){f([].concat(Object(n.a)(x),[e]))},hide:function(){return c(!1)},data:T,handleUpdateWork:function(e){var t=x.map((function(t){return t._id===e._id?e:t}));f(t)},handleReset:function(){_({})}}):x.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"".concat(!e.active&&"text-danger"," text-left"),children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)("h5",{className:"font-weight-bold mb-0",children:e.title}),Object(y.jsx)("p",{className:"text-muted m-0",children:e.location})]}),Object(y.jsxs)("div",{className:"col-3",children:[Object(y.jsx)(h.a,{disabled:e.order>=x.length,className:"m-1",size:"mini",color:"blue",icon:"arrow up",onClick:function(){}}),Object(y.jsx)(h.a,{disabled:1===e.order,className:"m-1",size:"mini",color:"blue",icon:"arrow down",onClick:function(){}})]})]})}),Object(y.jsxs)("td",{className:"text-center",children:[Object(y.jsx)("span",{children:Object(y.jsx)(h.a,{className:"m-1",size:"mini",color:"blue",icon:"pencil",onClick:function(){c(!0),_(e)}})}),Object(y.jsx)("span",{children:Object(y.jsx)(p.a,{trigger:Object(y.jsx)(h.a,{className:"m-1",color:"red",size:"mini",icon:"delete"}),header:Object(y.jsx)("h5",{className:"mb-3",children:"Are you sure you want to delete this item?"}),content:Object(y.jsx)(h.a,{color:"red",content:"Yes",onClick:function(){return K(e._id)}}),on:"click",position:"top right"})})]})]},t)}))})]})})}}}]);
//# sourceMappingURL=13.bd827eb3.chunk.js.map
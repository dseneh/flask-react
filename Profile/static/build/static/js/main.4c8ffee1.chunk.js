(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],{128:function(e,t,c){},179:function(e,t,c){},181:function(e,t,c){},218:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c.n(a),n=c(41),s=c.n(n),i=(c(179),c(15)),o=c.n(i),l=c(38),j=c(5),b=(c(181),c(87)),d=c(12),u=c(230),O=c(2),x=Object(a.lazy)((function(){return Promise.all([c.e(5),c.e(6)]).then(c.bind(null,341))})),h=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(a.Suspense,{fallback:Object(O.jsx)(u.a,{active:!0,size:"massive"}),children:Object(O.jsx)(x,{})})})},f=c(61),m=c(10),p=c(231),g=c(232),v=c(85),k=(c(128),c(22)),w=c(13),y=c(44),N=c.n(y),S=c(60),P=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)({email:"",code:""}),s=Object(j.a)(n,2),i=(s[0],s[1],Object(a.useState)("")),b=Object(j.a)(i,2),u=b[0],x=b[1],h=Object(a.useState)(!1),f=Object(j.a)(h,2),m=f[0],v=f[1],y=Object(a.useState)({email:!1,code:!1}),P=Object(j.a)(y,2),I=P[0],C=P[1],z=Object(a.useState)(!1),E=Object(j.a)(z,2),D=E[0],F=E[1],L=Object(a.useState)({err:!1,text:"Enter the email associated with your account:"}),_=Object(j.a)(L,2),K=_[0],T=_[1],B=Object(w.e)(k.b),U=Object(w.e)(k.a),W=Object(d.g)(),A=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=4;break}C({email:!0}),e.next=8;break;case 4:return F(!0),T({err:!1,text:"Please wait..."}),e.next=8,N.a.post("".concat("","/api/auth/recover_password"),{email:c}).then((function(){F(!1),v(!0),T({err:!1,text:"Enter the verification code that was sent to your email:"})})).catch((function(e){C({email:!0}),e.response?T({err:!0,text:e.response.data.msg}):T({err:!0,text:"Internal server error."}),F(!1),v(!1),F(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=4;break}C({code:!0}),e.next=8;break;case 4:return F(!0),T({err:!1,text:"Please wait..."}),e.next=8,N.a.post("".concat("","/api/auth/verify_code"),{code:u}).then((function(e){localStorage.setItem("TKID",e.data.token),localStorage.setItem("_id",e.data.id),B(!0),N.a.get("".concat("","/api/profilelist")).then((function(e){U(e.data)})),F(!1),W.push("/build")})).catch((function(e){console.log(e.response.data),C({code:!0}),e.response?T({err:!0,text:e.response.data.msg}):T({err:!0,text:"Internal server error."}),F(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=Object(O.jsx)(S.Fade,{children:Object(O.jsxs)(p.a,{className:"mb-4",onSubmit:J,loading:D,children:[Object(O.jsx)("p",{className:"".concat(K.err&&"text-danger text-center"),children:K.text}),Object(O.jsx)(p.a.Input,{icon:"code",name:"code",error:I.code,iconPosition:"left",placeholder:"Enter the verification code",size:"large",value:u,onChange:function(e,t){var c=t.value;return x(c)}}),Object(O.jsx)(g.a,{fluid:!0,color:"blue",size:"large",children:"Submit"})]})}),R=Object(O.jsx)(S.Fade,{children:Object(O.jsxs)(p.a,{className:"mb-4",onSubmit:A,loading:D,children:[Object(O.jsx)("p",{className:"".concat(K.err&&"text-danger text-center"),children:K.text}),Object(O.jsx)(p.a.Input,{icon:"envelope",name:"email",type:"email",error:I.email,iconPosition:"left",placeholder:"Email",size:"large",value:c,onChange:function(e,t){var c=t.value;return r(c)}}),Object(O.jsx)(g.a,{fluid:!0,color:"blue",size:"large",children:"Submit"})]})});return Object(O.jsx)("div",{children:m?M:R})},I=c(94),C=function(){I.a;var e=function(e){s(!1),E(!1),U(Object(m.a)(Object(m.a)({},B),{},{email:!0,password:!0})),e.response?(console.error(e.response),M({err:!0,text:e.response.data.msg})):(console.error(e),M({err:!0,text:"Internal server error."})),E(!1)},t=Object(w.c)(k.b),c=Object(j.a)(t,2),n=c[0],s=c[1],i=Object(w.e)(k.a),b=Object(a.useState)(!1),u=Object(j.a)(b,2),x=u[0],h=u[1],y=Object(a.useState)(!1),C=Object(j.a)(y,2),z=C[0],E=C[1],D=Object(a.useState)({email:"",password:""}),F=Object(j.a)(D,2),L=F[0],_=F[1],K=Object(a.useState)({email:!1,password:!1}),T=Object(j.a)(K,2),B=T[0],U=T[1],W=Object(a.useState)({err:!1,text:"Enter your email and password:"}),A=Object(j.a)(W,2),J=A[0],M=A[1],R=Object(d.g)();r.a.useEffect((function(){E(!1)}),[]);var V=function(e,t){var c=t.name,a=t.value;U(Object(m.a)(Object(m.a)({},B),{},Object(f.a)({},c,!1))),_(Object(m.a)(Object(m.a)({},L),{},Object(f.a)({},c,a)))},q=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L.email&&L.password){t.next=4;break}U({email:!0,password:!0}),t.next=8;break;case 4:return E(!0),M({err:!1,text:"Please wait..."}),t.next=8,N.a.post("".concat("","/api/auth/login"),L).then((function(e){i(e.data.data),localStorage.setItem("TKID",e.data.token),localStorage.setItem("_id",e.data.userId),s(!0),E(!1),R.push("/build")})).catch((function(t){e(t)}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(n)return Object(O.jsx)(d.a,{to:"/build"});var G=Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(S.Fade,{children:[Object(O.jsx)("p",{className:"".concat(J.err&&"text-danger"," status-text py-3"),children:J.text}),Object(O.jsxs)(p.a,{className:" mb-4",loading:z,onSubmit:q,children:[Object(O.jsx)(p.a.Input,{icon:"envelope",name:"email",error:B.email,iconPosition:"left",placeholder:"Email",size:"large",onChange:V}),Object(O.jsx)(p.a.Input,{icon:"lock",name:"password",error:B.password,iconPosition:"left",placeholder:"Password",type:"password",size:"large",onChange:V}),Object(O.jsx)(g.a,{fluid:!0,color:"blue",size:"large",children:"Login"})]})]})}),H=Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(P,{})});return Object(O.jsxs)("div",{className:"login-main container ",children:[Object(O.jsxs)("div",{className:"card border-white shadow",children:[Object(O.jsx)("div",{className:"card-header bg-transparent",children:Object(O.jsx)("h2",{className:"py-3",children:x?"Password Reset":"Login"})}),Object(O.jsx)("div",{className:"card-body",children:x?H:G}),Object(O.jsx)("div",{className:"password-text card-footer bg-transparent",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col",children:x&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a,{name:"arrow circle left"}),Object(O.jsx)("a",{className:"footer-action my-5 text-capitalize",onClick:function(){return h(!1)},children:"Back to login"})]})}),Object(O.jsx)("div",{className:"col",children:!x&&Object(O.jsx)("a",{className:"footer-action align-right my-5 ",onClick:function(){return h(!0)},children:"Forgot Password"})})]})})]}),Object(O.jsx)("div",{className:"mt-5",children:Object(O.jsx)(g.a,{primary:!0,content:"Back to Profile Page",size:"large",fluid:!0,onClick:function(){return R.push("/")}})})]})},z=function(e){return Object(O.jsx)(S.Fade,{town:!0,children:Object(O.jsxs)("div",{className:"card-dashboard card p-3",onClick:e.onClick,children:[Object(O.jsx)("h3",{children:e.title}),Object(O.jsx)("p",{children:e.desc})]})})},E=Object(a.lazy)((function(){return Promise.all([c.e(1),c.e(8),c.e(10)]).then(c.bind(null,342))})),D=Object(a.lazy)((function(){return Promise.all([c.e(0),c.e(1),c.e(13)]).then(c.bind(null,344))})),F=Object(a.lazy)((function(){return Promise.all([c.e(1),c.e(9)]).then(c.bind(null,345))})),L=Object(a.lazy)((function(){return Promise.all([c.e(0),c.e(12)]).then(c.bind(null,346))})),_=Object(a.lazy)((function(){return Promise.all([c.e(0),c.e(7)]).then(c.bind(null,343))})),K=Object(a.lazy)((function(){return Promise.all([c.e(0),c.e(1),c.e(11)]).then(c.bind(null,347))})),T=function(){I.a;var e=Object(w.c)(k.b),t=Object(j.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)("Dashboard"),s=Object(j.a)(n,2),i=s[0],o=s[1],l=Object(w.d)(k.a);if(Object(a.useEffect)((function(){var e=localStorage.getItem("TKID");r(!!e)})),!c)return Object(O.jsx)(d.a,{to:"/"});var b=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{title:"My Profile",onClick:function(){return o("Profile")},desc:"Edit information about profile"}),Object(O.jsx)(z,{title:"Work",onClick:function(){return o("Work")},desc:"List of your jobs"}),Object(O.jsx)(z,{title:"Education",onClick:function(){return o("Education")},desc:"List of your schools, training, etc."}),Object(O.jsx)(z,{title:"Skills",onClick:function(){return o("Skills")},desc:"List of all your skills"}),Object(O.jsx)(z,{title:"Contact",onClick:function(){return o("Contact")},desc:"List of all your contacts"}),Object(O.jsx)(z,{title:"Users",onClick:function(){return o("Users")},desc:"List of all users"})]})},u=function(e){var t;switch(e.type){case"Dashboard":t=Object(O.jsx)(b,Object(m.a)({},e));break;case"Users":t=Object(O.jsx)(E,Object(m.a)({},e));break;case"Work":t=Object(O.jsx)(D,Object(m.a)({},e));break;case"Education":t=Object(O.jsx)(K,Object(m.a)({},e));break;case"Contact":t=Object(O.jsx)(F,Object(m.a)({},e));break;case"Skills":t=Object(O.jsx)(L,Object(m.a)({},e));break;case"Profile":t=Object(O.jsx)(_,Object(m.a)({},e));break;default:t=null}return t};return Object(O.jsxs)("div",{className:"dashboard-content container pt-4",children:[Object(O.jsxs)("div",{className:"pb-3 text-right",children:[Object(O.jsxs)("a",{className:"font-weight-normal mr-3 text-primary",href:"/",target:"_blank",children:["View Page "," ",Object(O.jsx)(v.a,{name:"external alternate"})]}),Object(O.jsx)(g.a,{icon:"lock",content:"Logout",color:"red",size:"mini",onClick:function(){r(!1),localStorage.removeItem("TKID"),localStorage.removeItem("_id")}})]}),Object(O.jsxs)("div",{className:"card bg-transparent border-0 ",children:[Object(O.jsx)("div",{className:"card-header bg-white ".concat(l.profile.active?"border-success":"border-danger"),children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-xs-3",children:"Dashboard"!==i&&Object(O.jsxs)(g.a,{icon:!0,inverted:!0,color:"blue",onClick:function(){return o("Dashboard")},className:"float-left mt-2 mx-3",children:[Object(O.jsx)(v.a,{name:"arrow circle left"}),"Back"]})}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("h2",{className:"py-2 text-left",children:i})})}),!l.profile.active&&Object(O.jsx)("div",{className:"col text-right pt-2 text-danger",children:Object(O.jsxs)("p",{children:["Account is :",Object(O.jsx)("strong",{children:" disabled!"})]})})]})}),Object(O.jsx)("div",{className:"card-body dashboard-body",children:Object(O.jsx)(a.Suspense,{fallback:Object(O.jsx)("div",{className:"text-left spinner-grow",style:{width:"3rem",height:"3rem"},children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),children:Object(O.jsx)(u,{type:i})})})]})]})};var B=function(){var e=Object(w.c)(k.a),t=Object(j.a)(e,2),c=t[0],a=t[1],n=Object(w.e)(k.d),s=Object(w.e)(k.c),i=Object(w.e)(k.b);return r.a.useEffect((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,N.a.get("".concat("","/api/profilelist")).then((function(e){if(!(e.data&&e.data.profile&&e.data.profile))return s(!0),i(!1),localStorage.clear(),c;a(e.data),s(!1),n(!1)})).catch((function(e){console.log(e),localStorage.clear(),s(!0),n(!1)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();var e=localStorage.getItem("TKID");i(!!e)}),[]),Object(O.jsx)(b.a,{children:Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",exact:!0,component:h}),Object(O.jsx)(d.b,{path:"/login",exact:!0,component:C}),Object(O.jsx)(d.b,{path:"/build",exact:!0,component:T})]})})};c(216),c(217);s.a.render(Object(O.jsx)(w.a,{children:Object(O.jsx)(B,{})}),document.getElementById("root"))},22:function(e,t,c){"use strict";c.d(t,"b",(function(){return r})),c.d(t,"a",(function(){return n})),c.d(t,"d",(function(){return s})),c.d(t,"c",(function(){return i}));var a=c(13),r=Object(a.b)({key:"isloggedin",default:!1}),n=Object(a.b)({key:"currentuser",default:{}}),s=Object(a.b)({key:"loader",default:!1}),i=Object(a.b)({key:"loaderError",default:!1})}},[[218,3,4]]]);
//# sourceMappingURL=main.4c8ffee1.chunk.js.map
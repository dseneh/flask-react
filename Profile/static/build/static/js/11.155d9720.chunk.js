(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{347:function(e,t,a){"use strict";a.r(t);var n=a(136),c=a(15),r=a.n(c),i=a(38),o=a(5),s=a(0),l=a.n(s),u=a(277),d=a(85),j=a(250),b=a(230),h=a(232),p=a(340),O=a(44),x=a.n(O),f=a(61),m=a(10),g=a(231),v=a(244),y=a(245),k=a.n(y),w=a(60),C=a(2),S=function(e){var t=Object(s.useState)(!1),a=Object(o.a)(t,2),n=a[0],c=a[1],u=Object(s.useState)({type:"",institution:"",location:"",study:"",start:"",end:"",desc:"",current:!1,active:!1}),d=Object(o.a)(u,2),j=d[0],b=d[1],p=Object(s.useState)({type:!1,institution:!1,study:!1,start:!1}),O=Object(o.a)(p,2),y=O[0],S=O[1];l.a.useEffect(Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b(e.data);case 1:case"end":return t.stop()}}),t)}))),[]);var I=function(e,t){var a=t.name,n=t.value;S(Object(m.a)(Object(m.a)({},y),{},Object(f.a)({},a,!1))),b(Object(m.a)(Object(m.a)({},j),{},Object(f.a)({},a,n)))},N=function(e,t){var a=t.name,n=t.checked;b(Object(m.a)(Object(m.a)({},j),{},Object(f.a)({},a,n)))},z=function(){var t=Object(i.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j.type&&j.study&&j.institution&&j.location&&j.start){t.next=4;break}S({type:!0,institution:!0,location:!0,study:!0,start:!0}),t.next=18;break;case 4:if(e.data._id&&"undefined"!==e.data._id){t.next=14;break}if(c(!0),!(a=localStorage.getItem("TKID"))){t.next=12;break}return c(!0),n={headers:{Authorization:"Bearer ".concat(a)}},t.next=12,x.a.post("".concat("","/api/education"),j,n).then((function(t){c(!1),e.handleAddEducation(t.data.education),e.hide()})).catch((function(e){e.response?console.log(e.response.data):console.log(e),S(Object(m.a)(Object(m.a)({},y),{},{title:!0,institution:!0,location:!0,company:!0,start:!0})),c(!1)}));case 12:t.next=18;break;case 14:return t.next=16,D();case 16:e.handleUpdateEducation(j),e.hide();case 18:e.handleReset();case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(i.a)(r.a.mark((function t(){var a,n,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.data._id,j.type&&j.study&&j.institution&&j.location&&j.start){t.next=5;break}S({type:!0,institution:!0,location:!0,study:!0,start:!0}),t.next=12;break;case 5:if(c(!0),!(n=localStorage.getItem("TKID"))){t.next=12;break}return c(!0),i={headers:{Authorization:"Bearer ".concat(n)}},t.next=12,x.a.put("".concat("","/api/education/").concat(a),j,i).then((function(t){c(!1),e.handleAddEducation(t.data.education),e.hide()})).catch((function(e){e.response?console.log(e.response.data):console.log(e),S(Object(m.a)(Object(m.a)({},y),{},{type:!0,location:!0,institution:!0,study:!0,start:!0})),c(!1)}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)("div",{className:"container p-4 pt-5",children:Object(C.jsx)(w.Fade,{children:Object(C.jsxs)(g.a,{className:" mb-3",loading:n,onSubmit:z,children:[Object(C.jsx)(g.a.Select,{name:"type",options:[{key:"c",text:"Certificate",value:"certificate"},{key:"dp",text:"Diploma",value:"diploma"},{key:"t",text:"Training",value:"training"},{key:"a",text:"Associate's Degree",value:"associate"},{key:"b",text:"Bachelor's Degree",value:"bachelor"},{key:"m",text:"Master's Degree",value:"master"},{key:"d",text:"Doctoral Degree",value:"doctoral"}],error:y.type,placeholder:"Type",onChange:I,label:"Type",value:j.type}),Object(C.jsxs)(g.a.Group,{widths:"equal",children:[Object(C.jsx)(g.a.Input,{name:"study",label:"Field of Study",error:y.study,placeholder:"Field of Study",onChange:I,value:j.study}),Object(C.jsx)(g.a.Input,{name:"institution",label:"Institution",error:y.institution,placeholder:"Institution name",onChange:I,value:j.institution}),Object(C.jsx)(g.a.Input,{name:"location",label:"Location",error:y.location,placeholder:"Location",onChange:I,value:j.location})]}),Object(C.jsxs)(g.a.Group,{children:[Object(C.jsx)(g.a.Input,{label:"Start Date",name:"start",error:y.start,placeholder:"Month/Year",onChange:I,value:j.start}),Object(C.jsx)(g.a.Input,{label:"End Date",name:"end",error:y.end,value:j.end,disabled:j.current,placeholder:"Month/Year",onChange:I})]}),Object(C.jsx)(g.a.Checkbox,{name:"current",toggle:!0,label:"Up to current",onChange:N,defaultChecked:e.data.current,onClick:function(){j.current?j.end="":j.end="Present"}}),Object(C.jsx)(v.CKEditor,{editor:k.a,onChange:function(e,t){var a=t.getData();b(Object(m.a)(Object(m.a)({},j),{},{desc:a}))},data:e.data.desc,config:{toolbar:["bold","italic","numberedList","bulletedList"]}}),Object(C.jsxs)("div",{className:"row mt-4 ",children:[Object(C.jsx)("div",{className:"col",children:Object(C.jsx)(g.a.Checkbox,{name:"active",toggle:!0,label:"Show on profile",onChange:N,defaultChecked:e.data.active})}),Object(C.jsx)("div",{className:"col text-right",children:Object(C.jsx)(h.a,{className:"",color:"blue",size:"large",children:"Save"})})]})]})})})};t.default=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(s.useState)([]),O=Object(o.a)(l,2),f=O[0],m=O[1],g=Object(s.useState)(!1),v=Object(o.a)(g,2),y=v[0],k=v[1],w=Object(s.useState)(!1),I=Object(o.a)(w,2),N=I[0],z=I[1],D=Object(s.useState)({type:"",institution:"",study:"",start:"",end:"",desc:"",current:!1,active:!1}),A=Object(o.a)(D,2),E=A[0],T=A[1];Object(s.useEffect)((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("TKID"))){e.next=6;break}return k(!0),a={headers:{Authorization:"Bearer ".concat(t)}},e.next=6,x.a.get("".concat("","/api/education"),a).then((function(e){m(e.data.education),k(!1)})).catch((function(e){k(!1),z(!0),e.response?console.log(e.response.data):console.log(e)}));case 6:k(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var _=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("TKID"),k(!0),n={headers:{Authorization:"Bearer ".concat(a)}},e.next=5,x.a.delete("".concat("","/api/education/").concat(t),n).then((function(){var e=f.filter((function(e){return e._id!==t}));m(e),k(!1)})).catch((function(e){k(!1),z(!0),console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){T({type:"",institution:"",study:"",start:"",end:"",desc:"",current:!1,active:!1})};return N?Object(C.jsxs)("div",{style:{fontSize:"1.6rem"},children:[Object(C.jsx)(d.a,{name:"warning sign",size:"large",color:"red"}),Object(C.jsx)("p",{children:"Oops! There was an error loading data."})]}):Object(C.jsx)(C.Fragment,{children:y?Object(C.jsx)(j.a,{style:{minHeight:300},children:Object(C.jsx)(b.a,{size:"large",active:y,children:"Loading"})}):Object(C.jsxs)(u.a,{bordered:!0,hover:!0,responsive:!0,className:"bg-white",children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:Object(C.jsx)("th",{colSpan:"5",children:a?Object(C.jsx)(h.a,{floated:"right",color:"red",size:"small",content:"Cancel",onClick:function(){c(!1),B()}}):Object(C.jsx)(h.a,{floated:"right",icon:"plus",labelPosition:"left",primary:!0,size:"small",content:"New",onClick:function(){c(!0)}})})})}),Object(C.jsx)("tbody",{children:a?Object(C.jsx)(S,{handleAddEducation:function(e){m([].concat(Object(n.a)(f),[e]))},hide:function(){return c(!1)},data:E,handleUpdateEducation:function(e){var t=f.map((function(t){return t._id===e._id?e:t}));m(t)},handleReset:B}):f.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{className:" text-left",children:[Object(C.jsxs)("h5",{className:"".concat(!e.active&&"text-danger"," font-weight-bold mb-0 text-capitalize"),children:[e.type,": ",e.study]}),Object(C.jsx)("p",{className:"text-muted m-0",children:e.institution})]}),Object(C.jsxs)("td",{className:"text-center",children:[Object(C.jsx)("span",{children:Object(C.jsx)(h.a,{className:"m-1",size:"mini",color:"blue",icon:"pencil",onClick:function(){c(!0),T(e)}})}),Object(C.jsx)("span",{children:Object(C.jsx)(p.a,{trigger:Object(C.jsx)(h.a,{className:"m-1",color:"red",size:"mini",icon:"delete"}),header:Object(C.jsx)("h5",{className:"mb-3",children:"Are you sure you want to delete this item?"}),content:Object(C.jsx)(h.a,{color:"red",content:"Yes",onClick:function(){return _(e._id)}}),on:"click",position:"top right"})})]})]},t)}))})]})})}}}]);
//# sourceMappingURL=11.155d9720.chunk.js.map
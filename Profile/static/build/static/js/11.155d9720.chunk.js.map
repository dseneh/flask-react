{"version":3,"sources":["components/admin/app/AddEducation.js","components/admin/app/EducationList.js"],"names":["AddEducation","props","useState","loading","setLoading","type","institution","location","study","start","end","desc","current","active","data","setData","errors","setErrors","React","useEffect","a","handleChange","e","name","value","handleMouseChange","checked","handleSubmit","_id","token","localStorage","getItem","config","headers","axios","post","process","then","res","handleAddEducation","education","hide","catch","response","console","log","title","company","handleUpdate","handleUpdateEducation","handleReset","id","put","className","Form","onSubmit","Select","options","key","text","error","placeholder","onChange","label","Group","widths","Input","disabled","Checkbox","toggle","defaultChecked","onClick","editor","ClassicEditor","getData","toolbar","Button","color","size","EducationList","editForm","setEditForm","educations","setEducations","setError","setEducation","get","fetchData","handleDeleteEducation","delete","filter","ed","style","fontSize","Icon","Segment","minHeight","Loader","Table","bordered","hover","responsive","colSpan","floated","content","icon","labelPosition","primary","newEdu","map","index","Popup","trigger","header","on","position"],"mappings":"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","file":"static/js/11.155d9720.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport {Button, Form} from \"semantic-ui-react\";\r\nimport {CKEditor} from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\"\r\nimport axios from \"axios\";\r\nimport {Fade} from \"react-reveal\";\r\n\r\nconst AddEducation = (props) => {\r\n    const [loading, setLoading] = useState(false)\r\n    const [data, setData] = useState({\r\n        type: '', institution: '', location: '', study: '', start: '', end: '', desc: '', current: false, active: false\r\n    })\r\n    const [errors, setErrors] = useState({type: false, institution: false, study: false, start: false})\r\n\r\n    const degreeOptions = [\r\n        {key: 'c', text: 'Certificate', value: 'certificate'},\r\n        {key: 'dp', text: 'Diploma', value: 'diploma'},\r\n        {key: 't', text: 'Training', value: 'training'},\r\n        {key: 'a', text: \"Associate's Degree\", value: 'associate'},\r\n        {key: 'b', text: \"Bachelor's Degree\", value: 'bachelor'},\r\n        {key: 'm', text: \"Master's Degree\", value: 'master'},\r\n        {key: 'd', text: \"Doctoral Degree\", value: 'doctoral'},\r\n    ]\r\n\r\n    React.useEffect(async () => {\r\n        setData(props.data)\r\n\r\n    }, []);\r\n\r\n    const handleChange = (e, {name, value}) => {\r\n        setErrors({...errors, [name]: false})\r\n        setData({...data, [name]: value})\r\n    }\r\n\r\n    const handleChangeDesc = (e, editor) => {\r\n        const text = editor.getData()\r\n        setData({...data, desc: text})\r\n    }\r\n\r\n    const handleMouseChange = (e, {name, checked}) => {\r\n        setData({...data, [name]: checked})\r\n    }\r\n    const handleCheckClick = () => {\r\n        !data.current ? data.end = 'Present' : data.end = ''\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        if (!data.type || !data.study || !data.institution || !data.location || !data.start) {\r\n            setErrors({type: true, institution: true, location: true, study: true, start: true})\r\n        } else {\r\n            if (!props.data._id || props.data._id === 'undefined') {\r\n                setLoading(true)\r\n                const token = localStorage.getItem('TKID')\r\n                if (token) {\r\n                    setLoading(true)\r\n                    const config = {headers: {'Authorization': `Bearer ${token}`}}\r\n                    await axios.post(`${process.env.REACT_APP_API}/api/education`, data, config)\r\n                        .then(res => {\r\n                            setLoading(false)\r\n                            props.handleAddEducation(res.data.education)\r\n                            props.hide()\r\n                        })\r\n                        .catch(e => {\r\n                            if (e.response) {\r\n                                console.log(e.response.data)\r\n                            } else {\r\n                                console.log(e)\r\n                            }\r\n                            setErrors({\r\n                                ...errors,\r\n                                title: true,\r\n                                institution: true,\r\n                                location: true,\r\n                                company: true,\r\n                                start: true\r\n                            })\r\n                            setLoading(false)\r\n                        })\r\n                }\r\n\r\n            } else {\r\n                await handleUpdate()\r\n                props.handleUpdateEducation(data)\r\n                props.hide()\r\n            }\r\n        }\r\n        // props.hide()\r\n        props.handleReset()\r\n    }\r\n\r\n    const handleUpdate = async () => {\r\n        const id = props.data._id\r\n        if (!data.type || !data.study || !data.institution || !data.location || !data.start) {\r\n            setErrors({type: true, institution: true, location: true, study: true, start: true})\r\n        } else {\r\n            setLoading(true)\r\n            const token = localStorage.getItem('TKID')\r\n            if (token) {\r\n                setLoading(true)\r\n                const config = {headers: {'Authorization': `Bearer ${token}`}}\r\n                await axios.put(`${process.env.REACT_APP_API}/api/education/${id}`, data, config)\r\n                    .then((response) => {\r\n                        setLoading(false)\r\n                        props.handleAddEducation(response.data.education)\r\n                        props.hide()\r\n                    })\r\n                    .catch(e => {\r\n                        if (e.response) {\r\n                            console.log(e.response.data)\r\n                        } else {\r\n                            console.log(e)\r\n                        }\r\n                        setErrors({...errors, type: true, location: true, institution: true, study: true, start: true})\r\n                        setLoading(false)\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='container p-4 pt-5'>\r\n            <Fade>\r\n                <Form className=' mb-3' loading={loading} onSubmit={handleSubmit}>\r\n\r\n                    <Form.Select\r\n                        name=\"type\"\r\n                        options={degreeOptions}\r\n                        error={errors.type}\r\n                        placeholder='Type'\r\n                        onChange={handleChange}\r\n                        label=\"Type\"\r\n                        value={data.type}\r\n                    />\r\n                    <Form.Group widths=\"equal\">\r\n                        <Form.Input\r\n                            name=\"study\"\r\n                            label=\"Field of Study\"\r\n                            error={errors.study}\r\n                            placeholder='Field of Study'\r\n                            onChange={handleChange}\r\n                            value={data.study}\r\n                        />\r\n                        <Form.Input\r\n                            name=\"institution\"\r\n                            label=\"Institution\"\r\n                            error={errors.institution}\r\n                            placeholder='Institution name'\r\n                            onChange={handleChange}\r\n                            value={data.institution}\r\n                        />\r\n                        <Form.Input\r\n                            name=\"location\"\r\n                            label=\"Location\"\r\n                            error={errors.location}\r\n                            placeholder='Location'\r\n                            onChange={handleChange}\r\n                            value={data.location}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Input\r\n                            label='Start Date'\r\n                            name=\"start\"\r\n                            error={errors.start}\r\n                            placeholder='Month/Year'\r\n                            onChange={handleChange}\r\n                            value={data.start}\r\n                        />\r\n                        <Form.Input\r\n                            label='End Date'\r\n                            name=\"end\"\r\n                            error={errors.end}\r\n                            value={data.end}\r\n                            disabled={data.current}\r\n                            placeholder='Month/Year'\r\n                            onChange={handleChange}\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    <Form.Checkbox\r\n                        name=\"current\"\r\n                        toggle\r\n                        label=\"Up to current\"\r\n                        onChange={handleMouseChange}\r\n                        defaultChecked={props.data.current}\r\n                        onClick={handleCheckClick}\r\n                    />\r\n\r\n                    <CKEditor editor={ClassicEditor} onChange={handleChangeDesc} data={props.data.desc}\r\n                              config={{toolbar: ['bold', 'italic', 'numberedList', 'bulletedList'],}}\r\n                    />\r\n\r\n                    <div className=\"row mt-4 \">\r\n                        <div className=\"col\">\r\n                            <Form.Checkbox\r\n                                name=\"active\"\r\n                                toggle\r\n                                label=\"Show on profile\"\r\n                                onChange={handleMouseChange}\r\n                                defaultChecked={props.data.active}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col text-right\">\r\n                            <Button className=\"\" color='blue' size={\"large\"}>Save</Button>\r\n                        </div>\r\n                    </div>\r\n                </Form>\r\n            </Fade>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddEducation;","import React, {useEffect, useState} from 'react';\r\nimport {Table} from \"react-bootstrap\";\r\nimport {Button, Icon, Loader, Popup, Segment} from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport AddEducation from \"./AddEducation\";\r\n\r\n\r\nconst EducationList = () => {\r\n    const [editForm, setEditForm] = useState(false)\r\n    const [educations, setEducations] = useState([])\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(false)\r\n    const [education, setEducation] = useState({\r\n        type: '', institution: '', study: '', start: '', end: '', desc: '', current: false, active: false\r\n    })\r\n\r\n\r\n    useEffect( () => {\r\n        const fetchData = async () => {\r\n            const token = localStorage.getItem('TKID')\r\n        if (token) {\r\n            setLoading(true)\r\n            const config = {\r\n                headers: {'Authorization': `Bearer ${token}`}\r\n            }\r\n            await axios.get(`${process.env.REACT_APP_API}/api/education`, config)\r\n                .then(res => {\r\n                    setEducations(res.data.education)\r\n                    setLoading(false)\r\n                })\r\n                .catch(e => {\r\n                    setLoading(false)\r\n                    setError(true)\r\n                      if (e.response) {\r\n                            console.log(e.response.data)\r\n                        }else {\r\n                        console.log(e)\r\n                        }\r\n                })\r\n        }\r\n        setLoading(false)\r\n        }\r\n        fetchData()\r\n    }, []);\r\n\r\n\r\n    const handleAddEducation = (ed) => {\r\n        setEducations([...educations, ed])\r\n    }\r\n    const handleDeleteEducation = async (id) => {\r\n        const token = localStorage.getItem('TKID')\r\n        setLoading(true)\r\n        const config = {\r\n            headers: {'Authorization': `Bearer ${token}`}\r\n        }\r\n        await axios.delete(`${process.env.REACT_APP_API}/api/education/${id}`, config)\r\n            .then(() => {\r\n                const education = educations.filter((ed) => ed._id !== id)\r\n                setEducations(education)\r\n                setLoading(false)\r\n            })\r\n            .catch(e => {\r\n                setLoading(false)\r\n                setError(true)\r\n                console.log(e)\r\n            })\r\n    }\r\n    const handleReset = () => {\r\n        setEducation({\r\n            type: '', institution: '', study: '', start: '', end: '', desc: '', current: false, active: false\r\n        })\r\n    }\r\n    const handleUpdateEducation = (data) => {\r\n        const newEdu = educations.map(ed => {\r\n            if (ed._id === data._id) {\r\n                return data;\r\n            }\r\n            return ed;\r\n        })\r\n        setEducations(newEdu)\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div style={{fontSize: '1.6rem'}}>\r\n                <Icon name=\"warning sign\" size=\"large\" color=\"red\"/>\r\n                <p>Oops! There was an error loading data.</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {loading ? (\r\n                <Segment style={{minHeight: 300}}>\r\n                    <Loader size='large' active={loading}>Loading</Loader>\r\n                </Segment>\r\n            ) : (\r\n                <Table bordered hover responsive className=\"bg-white\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th colSpan=\"5\">\r\n                            {editForm ? (\r\n                                <Button\r\n                                    floated='right'\r\n                                    color='red'\r\n                                    size='small'\r\n                                    content='Cancel'\r\n                                    onClick={() => {\r\n                                        setEditForm(false)\r\n                                        handleReset()\r\n                                    }}\r\n                                />\r\n                            ) : (\r\n\r\n                                <Button\r\n                                    floated='right'\r\n                                    icon='plus'\r\n                                    labelPosition='left'\r\n                                    primary\r\n                                    size='small'\r\n                                    content='New'\r\n                                    onClick={() => {\r\n                                        setEditForm(true)\r\n                                    }}\r\n                                />\r\n                            )}\r\n                        </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {editForm ? (\r\n                        <AddEducation\r\n                            handleAddEducation={handleAddEducation}\r\n                            hide={() => setEditForm(false)}\r\n                            data={education}\r\n                            handleUpdateEducation={handleUpdateEducation}\r\n                            handleReset={handleReset}\r\n                        />\r\n                    ) : (\r\n                        educations.map((ed, index) => (\r\n                            <tr key={index}>\r\n                                <td className=\" text-left\">\r\n                                    <h5 className={`${!ed.active && 'text-danger'} font-weight-bold mb-0 text-capitalize`}>{ed.type}: {ed.study}</h5>\r\n                                    <p className=\"text-muted m-0\">\r\n                                        {ed.institution}\r\n                                    </p>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                    <span>\r\n                                        <Button className=\"m-1\" size=\"mini\" color=\"blue\" icon=\"pencil\"\r\n                                                  onClick={() => {\r\n                                                      setEditForm(true)\r\n                                                      setEducation(ed)\r\n                                                  }}\r\n                                    />\r\n                                    </span>\r\n                                    <span>\r\n                                    <Popup\r\n                                        trigger={\r\n                                            <Button className=\"m-1\" color=\"red\" size=\"mini\" icon=\"delete\"/>\r\n                                        }\r\n                                        header={<h5 className=\"mb-3\">Are you sure you want to delete this item?</h5>}\r\n                                        content={<Button color='red' content='Yes'\r\n                                                         onClick={() => handleDeleteEducation(ed._id)}/>}\r\n                                        on='click'\r\n                                        position='top right'\r\n                                    />\r\n                                </span>\r\n                                </td>\r\n                            </tr>\r\n                        ))\r\n                    )}\r\n                    </tbody>\r\n                </Table>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EducationList;"],"sourceRoot":""}
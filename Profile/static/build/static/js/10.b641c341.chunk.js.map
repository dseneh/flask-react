{"version":3,"sources":["components/admin/app/AddUser.js","components/admin/app/PasswordReset.js","components/admin/app/UserList.js"],"names":["AddUser","props","useState","loading","setLoading","email","password","is_admin","data","setData","errors","setErrors","err","text","setText","handleChange","e","name","value","handleSubmit","a","axios","post","process","then","response","handleUpdateUser","handleAddUser","catch","msg","console","log","Modal","closeIcon","open","onClose","Header","className","Content","Form","onSubmit","Input","icon","error","iconPosition","placeholder","onChange","type","size","Checkbox","toggle","label","checked","defaultChecked","Button","fluid","color","PasswordReset","password2","token","localStorage","getItem","config","headers","put","id","handleShowPasswordReset","UserList","showAddForm","setShowForm","changePassword","setChangePassword","users","setUsers","user","setUser","setError","userId","useEffect","get","res","fetchData","handleDeleteUser","delete","filter","_id","style","fontSize","Icon","Segment","minHeight","Loader","active","Table","bordered","hover","responsive","colSpan","floated","labelPosition","primary","onClick","map","index","Popup","trigger","disabled","header","content","on","position"],"mappings":"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","file":"static/js/10.b641c341.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport {Button, Form, Modal} from \"semantic-ui-react\";\r\nimport \"./app.css\"\r\nimport axios from \"axios\";\r\nimport {Fade} from \"react-reveal\";\r\n\r\nconst AddUser = (props) => {\r\n    const [loading, setLoading] = useState(false)\r\n    const [data, setData] = useState({email: '', password: '', is_admin: false})\r\n    const [errors, setErrors] = useState({email: false, password: false})\r\n    const [text, setText] = useState({err: false, text: \"Enter the user's details\"})\r\n\r\n    const handleChange = (e, {name, value}) => {\r\n        setErrors({...errors, [name]: false})\r\n        setData({...data, [name]: value})\r\n    }\r\n    const handleCheckChange = (e, {name, checked}) => {\r\n        setData({...data, [name]: checked})\r\n    }\r\n    const handleSubmit = async () => {\r\n        setErrors({email: false, password: false})\r\n        if (!data.password || !data.email) {\r\n            setErrors({email: true, password: true})\r\n        } else {\r\n            setLoading(true)\r\n            setText({err: false, text: \"Please wait...\"})\r\n            await axios.post(`${process.env.REACT_APP_API}/api/auth/users`, data)\r\n                .then(response => {\r\n                    setLoading(false)\r\n                    props.handleUpdateUser(data)\r\n                    props.handleAddUser()\r\n                    setText({err: false, text: \"Enter the user's details\"})\r\n                })\r\n                .catch(e => {\r\n                    setErrors({...errors, password: true, email: true})\r\n                    if (e.response) {\r\n                        setText({err: true, text: e.response.data.msg})\r\n                        console.log(e.response.data)\r\n                    } else {\r\n                        setText({err: true, text: \"Internal server error.\"})\r\n                    }\r\n                    setLoading(false)\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Modal\r\n            closeIcon\r\n            open={props.open}\r\n            onClose={() => {\r\n                props.handleAddUser()\r\n                setErrors({email: false, password: false})\r\n                setData({password: null, email: null})\r\n                setText({err: false, text: \"Enter user's details\"})\r\n            }}\r\n        >\r\n            <Modal.Header>Create New User</Modal.Header>\r\n            <p className={`${text.err && 'text-danger'} font-weight-light text-center status-text pt-4 pb-0`}>{text.text}</p>\r\n            <Modal.Content className='mb-4'>\r\n                <Fade>\r\n                    <Form className=' mb-3' loading={loading} onSubmit={handleSubmit}>\r\n                        <Form.Input\r\n                            icon='envelope'\r\n                            name=\"email\"\r\n                            error={errors.email}\r\n                            iconPosition='left'\r\n                            placeholder='Email address'\r\n                            onChange={handleChange}\r\n                            value={data.email}\r\n                        />\r\n\r\n                        <Form.Input\r\n                            icon='lock'\r\n                            name=\"password\"\r\n                            error={errors.password}\r\n                            iconPosition='left'\r\n                            placeholder='Password'\r\n                            type='password'\r\n                            size=\"large\"\r\n                            onChange={handleChange}\r\n                            value={data.password}\r\n\r\n                        />\r\n                        <Form.Checkbox\r\n                            name=\"is_admin\"\r\n                            toggle\r\n                            label=\"Make this user an admin\"\r\n                            onChange={handleCheckChange}\r\n                            defaultChecked={data.is_admin}\r\n                        />\r\n                        <Button fluid color='blue' size={\"large\"}>Login</Button>\r\n                    </Form>\r\n                </Fade>\r\n            </Modal.Content>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default AddUser;","import React, {useState} from 'react';\r\nimport {Button, Form, Modal} from \"semantic-ui-react\";\r\nimport \"./app.css\"\r\nimport axios from \"axios\";\r\n\r\nconst PasswordReset = (props) => {\r\n    const [loading, setLoading] = useState(false)\r\n    const [data, setData] = useState({password2: '', password: ''})\r\n    const [errors, setErrors] = useState({password: false, password2: false})\r\n    const [text, setText] = useState({err: false, text: \"Change password\"})\r\n\r\n\r\n    const handleChange = (e, {name, value}) => {\r\n        setErrors({...errors, [name]: false})\r\n        setData({...data, [name]: value})\r\n    }\r\n    const handleSubmit = async () => {\r\n        const token = localStorage.getItem('TKID')\r\n        setErrors({password2: false, password: false})\r\n        if (!data.password || !data.password2) {\r\n            setErrors({password: true, password2: true})\r\n\r\n        } else if (data.password !== data.password2) {\r\n            setErrors({password: true, password2: true})\r\n            setText({err: true, text: \"Passwords do not match.\"})\r\n        } else {\r\n            setLoading(true)\r\n            setText({err: false, text: \"Please wait...\"})\r\n            const config = {\r\n                headers: {'Authorization': `Bearer ${token}`}\r\n            }\r\n            await axios.put(`${process.env.REACT_APP_API}/api/auth/user/${props.id}/change_password`, data, config)\r\n                .then(() => {\r\n                    setLoading(false)\r\n                    props.handleShowPasswordReset()\r\n                    setText({err: false, text: \"Change password\"})\r\n                })\r\n                .catch(e => {\r\n                    setLoading(false)\r\n                    setErrors({password: true, password2: true})\r\n                    if (e.response) {\r\n                        console.log(e.response.data)\r\n                        setText({err: true, text: e.response.data.msg})\r\n                    } else {\r\n                        console.log(e)\r\n                        setText({err: true, text: \"There was an error.\"})\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            closeIcon\r\n            open={props.open}\r\n            onClose={() => {\r\n                props.handleShowPasswordReset()\r\n                setErrors({password2: false, password: false})\r\n                setData({})\r\n                setText({err: false, text: \"Change password\"})\r\n            }}\r\n        >\r\n            <Modal.Header>Reset Password</Modal.Header>\r\n            <p className={`${text.err && 'text-danger'} font-weight-light text-center status-text pt-5 pb-0`}>{text.text}</p>\r\n\r\n            <Modal.Content className='mb-4'>\r\n                <Form className=' mb-3' loading={loading} onSubmit={handleSubmit}>\r\n                    <Form.Input\r\n                        icon='lock'\r\n                        name=\"password\"\r\n                        error={errors.password}\r\n                        iconPosition='left'\r\n                        placeholder='Enter password'\r\n                        type='password'\r\n                        size=\"large\"\r\n                        onChange={handleChange}\r\n\r\n                    />\r\n\r\n                    <Form.Input\r\n                        icon='lock'\r\n                        name=\"password2\"\r\n                        error={errors.password2}\r\n                        iconPosition='left'\r\n                        placeholder='Confirm password'\r\n                        type='password'\r\n                        size=\"large\"\r\n                        onChange={handleChange}\r\n\r\n                    />\r\n                    <Button fluid color='blue' size={\"large\"}>Submit</Button>\r\n                </Form>\r\n            </Modal.Content>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default PasswordReset;","import React, {useEffect, useState} from 'react';\r\nimport {Table} from \"react-bootstrap\";\r\nimport AddUser from \"./AddUser\";\r\nimport {Button, Icon, Loader, Popup, Segment} from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport PasswordReset from \"./PasswordReset\";\r\n\r\n\r\nconst UserList = () => {\r\n    const [showAddForm, setShowForm] = useState(false)\r\n    const [changePassword, setChangePassword] = useState(false)\r\n    const [users, setUsers] = useState([])\r\n    const [user, setUser] = useState({})\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(false)\r\n\r\n    const userId = localStorage.getItem('_id')\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const token = localStorage.getItem('TKID')\r\n            if (token) {\r\n                setLoading(true)\r\n                const config = {\r\n                    headers: {'Authorization': `Bearer ${token}`}\r\n                }\r\n                await axios.get(`${process.env.REACT_APP_API}/api/auth/users`, config)\r\n                    .then(res => {\r\n                        setUsers(res.data.users)\r\n                        setLoading(false)\r\n                    })\r\n                    .catch(e => {\r\n                        setLoading(false)\r\n                        setError(true)\r\n                        if (e.response) {\r\n                            console.log(e.response.data)\r\n                        } else {\r\n                            console.log(e)\r\n                        }\r\n                    })\r\n            }\r\n            setLoading(false)\r\n        }\r\n        fetchData()\r\n    }, []);\r\n\r\n    const handleShowAddUser = () => {\r\n        setShowForm(!showAddForm)\r\n    }\r\n    const handleShowPasswordReset = () => {\r\n        setChangePassword(!changePassword)\r\n    }\r\n    const handleUpdateUser = (user) => {\r\n        setUsers([...users, user])\r\n    }\r\n    const handleDeleteUser = async (id) => {\r\n        const token = localStorage.getItem('TKID')\r\n        setLoading(true)\r\n        const config = {\r\n            headers: {'Authorization': `Bearer ${token}`}\r\n        }\r\n        await axios.delete(`${process.env.REACT_APP_API}/api/auth/user/${id}`, config)\r\n            .then(() => {\r\n                const user = users.filter((user) => user._id !== id)\r\n                setUsers(user)\r\n                setLoading(false)\r\n            })\r\n            .catch(e => {\r\n                setLoading(false)\r\n                setError(true)\r\n                if (e.response) {\r\n                    console.log(e.response.data)\r\n                } else {\r\n                    console.log(e)\r\n                }\r\n            })\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div style={{fontSize: '1.6rem'}}>\r\n                <Icon name=\"warning sign\" size=\"large\" color=\"red\"/>\r\n                <p>Oops! There was an error loading data.</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {loading ? (\r\n                <Segment style={{minHeight: 300}}>\r\n                    <Loader size='large' active={loading}>Loading</Loader>\r\n                </Segment>\r\n            ) : (\r\n                <Table bordered hover responsive className=\"bg-white\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th colSpan=\"5\">\r\n                            <Button\r\n                                floated='right'\r\n                                icon\r\n                                labelPosition='left'\r\n                                primary\r\n                                size='small'\r\n                                onClick={() => setShowForm(true)}\r\n                            >\r\n                                <Icon name='plus'/> New\r\n                            </Button>\r\n                        </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {users.map((user, index) => (\r\n                        <tr key={index}>\r\n                            <td className=\"h5 text-left\">{user.email} {user.is_admin &&\r\n                            <Icon name=\"key\" color=\"grey\" size=\"small\"/>}</td>\r\n                            <td className=\"text-center\">\r\n                                <span><Button className=\"m-1\" size=\"mini\" color=\"blue\" icon=\"pencil\"\r\n                                              onClick={() => {\r\n                                                  setChangePassword(true)\r\n                                                  setUser(user)\r\n                                              }}\r\n                                /></span>\r\n\r\n                                <span>\r\n                                    <Popup\r\n                                        trigger={\r\n                                            <Button className=\"m-1\" color=\"red\" size=\"mini\" icon=\"delete\"\r\n                                                    disabled={user._id === userId}/>\r\n                                        }\r\n                                        header={<h5 className=\"mb-3\">Are you sure you want to delete this user?</h5>}\r\n                                        content={<Button color='red' content='Yes'\r\n                                                         onClick={() => handleDeleteUser(user._id)}/>}\r\n                                        on='click'\r\n                                        position='top right'\r\n                                    />\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            )}\r\n            <AddUser\r\n                handleAddUser={handleShowAddUser}\r\n                handleUpdateUser={handleUpdateUser}\r\n                open={showAddForm}\r\n            />\r\n            <PasswordReset\r\n                handleShowPasswordReset={handleShowPasswordReset}\r\n                open={changePassword}\r\n                id={user._id}\r\n            />\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UserList;"],"sourceRoot":""}